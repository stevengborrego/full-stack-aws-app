AWSTemplateFormatVersion: 2010-09-09
Transform: 'AWS::Serverless-2016-10-31'
Description: 'Example Lambda zip copy'
Resources:  
  BackEndFunctionRole:
          Type: AWS::IAM::Role
          Properties:
            AssumeRolePolicyDocument:
              Version: '2012-10-17'
              Statement:
                - Effect: Allow
                  Principal:
                    Service: lambda.amazonaws.com
                  Action: sts:AssumeRole
            ManagedPolicyArns:
                - arn:aws:iam::aws:policy/service role/AWSLambdaBasicExecutionRole

  BackendFunctionS3Bucket:
    Type: AWS::S3::Bucket

  BackEndFunction:
    Type: AWS::Serverless::Function
    Properties:
      Architectures:
      - arm64
      CodeUri:
        ./lambda/main.py
      FunctionName: back-end-function
      Handler: handler
      MemorySize: 128
      Role: !GetAtt BackEndFunctionRole.Arn
      Runtime: python3.9
      Timeout: 15

