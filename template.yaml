AWSTemplateFormatVersion: 2010-09-09
Transform: 'AWS::Serverless-2016-10-31'
Description: 'Example Lambda zip copy'
Resources:  
  BackEndFunctionRole:
          Type: AWS::IAM::Role
          Properties:
            AssumeRolePolicyDocument:
              Version: '2012-10-17'
              Statement:
                - Effect: Allow
                  Principal:
                    Service: lambda.amazonaws.com
                  Action: sts:AssumeRole
            ManagedPolicyArns:
                - arn:aws:iam::aws:policy/service role/AWSLambdaBasicExecutionRole


  BackEndFunction:
    Type: AWS::Lambda::Function
    Properties:
      Architectures:
      - arm64
      FunctionName: back-end-function
      Code:
        S3Bucket: back-end-function-bucket
        S3Key: main.zip
      Handler: ./lambda/main.handler
      MemorySize: 128
      Role: !GetAtt BackEndFunctionRole.Arn
      Runtime: python3.9
      Timeout: 15
    DependsOn:
      - BackEndFunctionRole
